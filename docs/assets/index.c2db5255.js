import{w as we,S as Y,i as K,s as V,e as o,a as g,b as c,t as T,c as L,d as n,l as M,p as le,n as j,f as C,r as ye,g as z,h as re,j as Se,k as Ve,o as xe,m as qe,q as Xe,u as Re,v as Qe,x as Ze,y as ne,z as se,A as W,B as oe,C as ae,D as ie,E as pe,F as et,G as tt,H as lt}from"./vendor.2bd7ec59.js";const nt=function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const p of i.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&s(p)}).observe(document,{childList:!0,subtree:!0});function e(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerpolicy&&(i.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?i.credentials="include":a.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(a){if(a.ep)return;a.ep=!0;const i=e(a);fetch(a.href,i)}};nt();function st(t,l,e,s,a,i,p){let d={label:e,destination:s,tagsRequired:a,tagsProhibited:i,tagsAdded:p};return t.sections[l].choices=t.sections[l].choices||{},t.sections[l].choices[e]=d,t}function ot(t,l,e="",s={}){let a={id:l,description:e,choices:s};return t.sections=t.sections||{},t.sections[l]=a,t}function at(t={title:"Unnamed Adventure"},l={}){return{metadata:t,sections:l}}function it(t,l){let e=`flowchart TB

`;for(const s in t.sections){let a=t.sections[s];e+=`${a.id}
`,e+=`click ${a.id} call editSection() "Edit Section"
`,a.id==l&&(e+=`style ${a.id} stroke:#333,stroke-width:4px
`);for(const i in a.choices){let p=a.choices[i];e+=`${a.id} --${p.label}--> ${p.destination}
`}}return e}function Le(t){t.metadata.title===""&&(t.metadata.title="Unnamed Adventure"),localStorage.setItem(t.metadata.title,JSON.stringify(t)),localStorage.setItem("current book",t.metadata.title)}const Ce=we(""),U=we(at()),Te=we(""),Me=we({to:"about",data:{}}),R=(t,l={})=>{Me.set({to:t,data:l})};function rt(t){let l,e,s,a,i,p,d,u,r,m,f,h,_,y,I,k,$,B,P,A,O,H,D,E,G;return{c(){l=o("li"),e=o("a"),e.textContent="Books",s=g(),a=o("li"),i=o("a"),i.textContent="Settings",p=g(),d=o("li"),u=o("a"),u.textContent="Sections",r=g(),m=o("li"),f=o("a"),f.textContent="Save/Load",h=g(),_=o("li"),y=o("a"),y.textContent="Export",I=g(),k=o("li"),$=o("a"),$.textContent="Help",B=g(),P=o("li"),A=o("a"),A.textContent="About",O=g(),H=o("li"),D=o("a"),D.textContent="Source-Code",c(e,"href","?view=books"),T(l,"bordered",t[0].to=="books"),c(i,"href","?view=settings"),T(a,"bordered",t[0].to=="settings"),c(u,"href","?view=editor"),T(d,"bordered",t[0].to=="editor"),c(f,"href","?view=saveload"),T(m,"bordered",t[0].to=="saveload"),c(y,"href","?view=export"),T(_,"bordered",t[0].to=="export"),c($,"href","?view=help"),T(k,"bordered",t[0].to=="help"),c(A,"href","?view=about"),T(P,"bordered",t[0].to=="about"),c(D,"href","?view=sourcecode"),T(H,"bordered",t[0].to=="sourcecode")},m(b,w){L(b,l,w),n(l,e),L(b,s,w),L(b,a,w),n(a,i),L(b,p,w),L(b,d,w),n(d,u),L(b,r,w),L(b,m,w),n(m,f),L(b,h,w),L(b,_,w),n(_,y),L(b,I,w),L(b,k,w),n(k,$),L(b,B,w),L(b,P,w),n(P,A),L(b,O,w),L(b,H,w),n(H,D),E||(G=[M(e,"click",le(t[1])),M(i,"click",le(t[2])),M(u,"click",le(t[3])),M(f,"click",le(t[4])),M(y,"click",le(t[5])),M($,"click",le(t[6])),M(A,"click",le(t[7])),M(D,"click",le(t[8]))],E=!0)},p(b,[w]){w&1&&T(l,"bordered",b[0].to=="books"),w&1&&T(a,"bordered",b[0].to=="settings"),w&1&&T(d,"bordered",b[0].to=="editor"),w&1&&T(m,"bordered",b[0].to=="saveload"),w&1&&T(_,"bordered",b[0].to=="export"),w&1&&T(k,"bordered",b[0].to=="help"),w&1&&T(P,"bordered",b[0].to=="about"),w&1&&T(H,"bordered",b[0].to=="sourcecode")},i:j,o:j,d(b){b&&C(l),b&&C(s),b&&C(a),b&&C(p),b&&C(d),b&&C(r),b&&C(m),b&&C(h),b&&C(_),b&&C(I),b&&C(k),b&&C(B),b&&C(P),b&&C(O),b&&C(H),E=!1,ye(G)}}}function ct(t,l,e){let s;return z(t,Me,h=>e(0,s=h)),[s,()=>{R("books")},()=>{R()},()=>{R("editor")},()=>{R("saveload")},()=>{R()},()=>{R()},()=>{R("about")},()=>{R()}]}class Ue extends Y{constructor(l){super();K(this,l,ct,rt,V,{})}}function ut(t){let l;return{c(){l=o("div"),l.innerHTML=`<footer class="footer items-center p-4 bg-neutral text-neutral-content"><div class="items-center grid-flow-col"><p class="hidden lg:block">Made in London with love by <a class="link link-primary" href="https://andregarzia.com">Andre Alves Garzia</a> \u2022 If you like this software, you can support me by <a class="link link-primary" target="_blank" href="https://ko-fi.com/andreshouldbewriting">buying me a coffee</a>. Seriously, I&#39;m a writer and I need coffee.</p> 
	<p class="lg:hidden"><a class="link link-primary" target="_blank" href="https://ko-fi.com/andreshouldbewriting">Buy me a Coffee.</a></p></div>  
  <div class="grid-flow-col gap-4 md:place-self-center md:justify-self-end"><a target="_blank" href="https://twitter.com/soapdog"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" class="fill-current"><path d="M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07 1.623-4.678 2.348-7.29 2.04 2.179 1.397 4.768 2.212 7.548 2.212 9.142 0 14.307-7.721 13.995-14.646.962-.695 1.797-1.562 2.457-2.549z"></path></svg></a></div></footer>`,c(l,"class","inset-x-0 bottom-0")},m(e,s){L(e,l,s)},p:j,i:j,o:j,d(e){e&&C(l)}}}class dt extends Y{constructor(l){super();K(this,l,null,ut,V,{})}}function ft(t){let l,e;return{c(){l=o("div"),e=re(t[0]),c(l,"class","mermaid"),c(l,"id","chart")},m(s,a){L(s,l,a),n(l,e)},p(s,[a]){a&1&&Se(e,s[0])},i:j,o:j,d(s){s&&C(l)}}}function pt(t,l,e){let s;z(t,Ce,i=>e(0,s=i));const a=Ve();return window.editSection=i=>{a("selectSection",i)},xe(()=>{let i={startOnLoad:!1,flowchart:{useMaxWidth:!0,htmlLabels:!0,curve:"cardinal"},securityLevel:"loose"};console.log("initial diagram data:",s),qe.initialize(i),Ce.subscribe(p=>{if(p==="")return console.log("passed no data to mermaid diagram."),!1;let d=document.getElementById("chart"),u=function(r,m){d.innerHTML=r,m(d)};qe.render("preparedScheme",p,u,d)})}),[s]}class mt extends Y{constructor(l){super();K(this,l,pt,ft,V,{})}}function We(t,l,e){const s=t.slice();return s[8]=l[e],s}function ze(t){let l,e=t[2].sections[t[8]].id+"",s,a,i;return{c(){l=o("option"),s=re(e),l.selected=a=t[0]==t[2].sections[t[8]].id,l.__value=i=t[2].sections[t[8]].id,l.value=l.__value},m(p,d){L(p,l,d),n(l,s)},p(p,d){d&4&&e!==(e=p[2].sections[p[8]].id+"")&&Se(s,e),d&7&&a!==(a=p[0]==p[2].sections[p[8]].id)&&(l.selected=a),d&4&&i!==(i=p[2].sections[p[8]].id)&&(l.__value=i,l.value=l.__value)},d(p){p&&C(l)}}}function bt(t){let l,e,s,a,i,p,d=Object.keys(t[2].sections),u=[];for(let r=0;r<d.length;r+=1)u[r]=ze(We(t,d,r));return{c(){l=o("div"),e=o("select"),s=o("option"),a=re(t[1]);for(let r=0;r<u.length;r+=1)u[r].c();s.disabled=!0,s.__value=t[1],s.value=s.__value,c(e,"class","select select-primary w-full"),t[0]===void 0&&Xe(()=>t[4].call(e)),c(l,"class","form-control")},m(r,m){L(r,l,m),n(l,e),n(e,s),n(s,a);for(let f=0;f<u.length;f+=1)u[f].m(e,null);Re(e,t[0]),i||(p=[M(e,"change",t[4]),M(e,"change",t[5])],i=!0)},p(r,[m]){if(m&2&&Se(a,r[1]),m&2&&(s.__value=r[1],s.value=s.__value),m&5){d=Object.keys(r[2].sections);let f;for(f=0;f<d.length;f+=1){const h=We(r,d,f);u[f]?u[f].p(h,m):(u[f]=ze(h),u[f].c(),u[f].m(e,null))}for(;f<u.length;f+=1)u[f].d(1);u.length=d.length}m&7&&Re(e,r[0])},i:j,o:j,d(r){r&&C(l),Qe(u,r),i=!1,ye(p)}}}function ht(t,l,e){let s,a;z(t,Te,f=>e(6,s=f)),z(t,U,f=>e(2,a=f));const i=Ve();let{label:p="Select Section"}=l,{value:d=s}=l;const u=f=>{i("selectSection",f)};function r(){d=Ze(this),e(0,d),e(1,p)}const m=()=>{u(d)};return t.$$set=f=>{"label"in f&&e(1,p=f.label),"value"in f&&e(0,d=f.value)},[d,p,a,u,r,m]}class Je extends Y{constructor(l){super();K(this,l,ht,bt,V,{label:1,value:0})}}function vt(t){let l,e,s,a,i,p,d,u,r,m,f,h,_,y,I,k,$,B,P,A,O,H,D,E,G,b,w,v,J,F,N,be,Pe,x,De,ce,he,Ie,Q,Ae,X,ue,ve,He,Z,Oe,de,ge,Be,ee,Ee,fe,_e,Ne,te,je,me,ke,$e,Fe;return f=new mt({}),f.$on("selectSection",t[11]),$=new Je({}),$.$on("selectSection",t[11]),Q=new Je({props:{label:"Select Destination",initialValue:t[4]}}),Q.$on("selectSection",t[12]),{c(){l=o("div"),e=o("div"),s=o("div"),a=o("button"),a.textContent="Diagram",i=g(),p=o("div"),d=o("button"),d.textContent="Editor",u=g(),r=o("div"),m=o("div"),ne(f.$$.fragment),h=g(),_=o("div"),y=o("div"),I=o("span"),I.textContent="You're editing",k=g(),ne($.$$.fragment),B=g(),P=o("button"),P.textContent="New Section",A=g(),O=o("button"),O.textContent="Delete Section",H=g(),D=o("div"),E=o("label"),E.innerHTML=`<span class="label-text">Section description</span> 
					<span class="label-text-alt">Remember that the Playdate is a small device.</span>`,G=g(),b=o("textarea"),w=g(),v=o("div"),J=g(),F=o("div"),N=o("div"),be=o("label"),be.innerHTML='<span class="label-text">Choice Label</span>',Pe=g(),x=o("input"),De=g(),ce=o("div"),he=o("label"),he.innerHTML='<span class="label-text">Destination</span>',Ie=g(),ne(Q.$$.fragment),Ae=g(),X=o("div"),ue=o("div"),ve=o("label"),ve.innerHTML='<span class="label-text">Required tags</span>',He=g(),Z=o("input"),Oe=g(),de=o("div"),ge=o("label"),ge.innerHTML='<span class="label-text">Prohibited tags</span>',Be=g(),ee=o("input"),Ee=g(),fe=o("div"),_e=o("label"),_e.innerHTML='<span class="label-text">New tags</span>',Ne=g(),te=o("input"),je=g(),me=o("button"),me.textContent="Save Choice",c(a,"class","btn float-left"),T(a,"btn-primary",t[1]),c(s,"class","flex-1"),c(d,"class","btn float-right"),T(d,"btn-primary",t[2]),c(p,"class","flex-1"),c(e,"class","flex justify-center"),c(m,"class","flex-1 p-2"),T(m,"hidden",!t[1]),c(I,"class","flex-1"),c(P,"class","btn btn-ghost m-2"),c(O,"class","btn btn-ghost m-2"),c(y,"class","flex items-center"),c(E,"class","label"),c(b,"class","textarea textarea-bordered textarea-primary h-24"),c(b,"placeholder","Your masterpiece here. No instadeath please."),c(D,"class","form-control"),c(v,"class","divider"),c(be,"class","label"),c(x,"type","text"),c(x,"class","input input-primary"),c(N,"class","form-control pr-2 flex-1"),c(he,"class","label"),c(ce,"class","form-control pr-2 flex-1"),c(F,"class","flex"),c(ve,"class","label"),c(Z,"type","text"),c(Z,"class","input input-primary"),c(ue,"class","form-control pr-2 flex-1"),c(ge,"class","label"),c(ee,"type","text"),c(ee,"class","input input-primary"),c(de,"class","form-control pr-2 flex-1"),c(_e,"class","label"),c(te,"type","text"),c(te,"class","input input-primary"),c(fe,"class","form-control pr-2 flex-1"),c(X,"class","flex"),c(me,"class","btn btn-primary float-right m-2"),c(_,"class","flex-1"),T(_,"hidden",!t[2]),c(r,"class","flex"),c(l,"class","p-5")},m(S,q){L(S,l,q),n(l,e),n(e,s),n(s,a),n(e,i),n(e,p),n(p,d),n(l,u),n(l,r),n(r,m),se(f,m,null),n(r,h),n(r,_),n(_,y),n(y,I),n(y,k),se($,y,null),n(y,B),n(y,P),n(y,A),n(y,O),n(_,H),n(_,D),n(D,E),n(D,G),n(D,b),W(b,t[0]),n(_,w),n(_,v),n(_,J),n(_,F),n(F,N),n(N,be),n(N,Pe),n(N,x),W(x,t[3]),n(F,De),n(F,ce),n(ce,he),n(ce,Ie),se(Q,ce,null),n(_,Ae),n(_,X),n(X,ue),n(ue,ve),n(ue,He),n(ue,Z),W(Z,t[5]),n(X,Oe),n(X,de),n(de,ge),n(de,Be),n(de,ee),W(ee,t[6]),n(X,Ee),n(X,fe),n(fe,_e),n(fe,Ne),n(fe,te),W(te,t[7]),n(_,je),n(_,me),ke=!0,$e||(Fe=[M(a,"click",t[14]),M(d,"click",t[15]),M(P,"click",t[8]),M(O,"click",t[9]),M(b,"input",t[16]),M(b,"change",t[10]),M(x,"input",t[17]),M(Z,"input",t[18]),M(ee,"input",t[19]),M(te,"input",t[20]),M(me,"click",t[13])],$e=!0)},p(S,[q]){q&2&&T(a,"btn-primary",S[1]),q&4&&T(d,"btn-primary",S[2]),q&2&&T(m,"hidden",!S[1]),q&1&&W(b,S[0]),q&8&&x.value!==S[3]&&W(x,S[3]);const Ge={};q&16&&(Ge.initialValue=S[4]),Q.$set(Ge),q&32&&Z.value!==S[5]&&W(Z,S[5]),q&64&&ee.value!==S[6]&&W(ee,S[6]),q&128&&te.value!==S[7]&&W(te,S[7]),q&4&&T(_,"hidden",!S[2])},i(S){ke||(oe(f.$$.fragment,S),oe($.$$.fragment,S),oe(Q.$$.fragment,S),ke=!0)},o(S){ae(f.$$.fragment,S),ae($.$$.fragment,S),ae(Q.$$.fragment,S),ke=!1},d(S){S&&C(l),ie(f),ie($),ie(Q),$e=!1,ye(Fe)}}}function gt(t,l,e){let s,a;z(t,U,v=>e(21,s=v)),z(t,Te,v=>e(22,a=v));let i="",p=!0,d=!0,u="",r="",m="",f="",h="";xe(()=>{$()});const _=()=>{let v=prompt("ID for the new section (keep it short, use only letters and dashes)");v=v.replace(/[^\u00BF-\u1FFF\u2C00-\uD7FF\w]+|[\_]+/ig,"-"),v=="end"&&(v="'end'"),U.set(ot(s,v)),y(v)},y=v=>{pe(Te,a=v,a),e(0,i=s.sections[a].description),$()},I=()=>{let v=a;if(confirm(`Are you sure you want to delete section: "${v}"? This cannot be undone.`)){let F=s.sections;delete F[v],pe(U,s.sections=F,s),Le(s);let N=Object.keys(s.sections);y(N[0]),$()}},k=()=>{pe(U,s.sections[a].description=i,s),Le(s)},$=()=>{Ce.set(it(s,a))},B=v=>{y(v.detail)},P=v=>{e(4,r=v.detail)},A=()=>{let v=m.length>0?m.split(",").map(N=>N.trim()):[],J=f.length>0?f.split(",").map(N=>N.trim()):[],F=h.length>0?h.split(",").map(N=>N.trim()):[];pe(U,s=st(s,a,u,r,v,J,F),s),Le(s),console.dir("book",s),e(3,u=""),e(4,r=""),e(5,m=""),e(6,f=""),e(7,h=""),$()},O=()=>{e(1,p=!p)},H=()=>{e(2,d=!d)};function D(){i=this.value,e(0,i)}function E(){u=this.value,e(3,u)}function G(){m=this.value,e(5,m)}function b(){f=this.value,e(6,f)}function w(){h=this.value,e(7,h)}return[i,p,d,u,r,m,f,h,_,I,k,B,P,A,O,H,D,E,G,b,w]}class _t extends Y{constructor(l){super();K(this,l,gt,vt,V,{})}}var kt="./assets/pawpaw.46ab4b6b.gif";function wt(t){let l,e,s,a,i,p,d,u,r,m,f;return{c(){l=o("div"),e=o("article"),s=o("h1"),s.textContent="About Gamebook Webby Press",a=g(),i=o("p"),i.innerHTML='This is a minimal web app to help you create gamebooks for the <a href="https://play.date" target="_blank">Playdate</a> handheld console by <a href="https://panic.com" target="_blank">Panic</a>. The source-code generated by <i>Gamebook.Webby.Press</i> is compatible with the <a href="https://play.date/dev/" target="_blank">Playdate SDK</a> and can be compiled out-of-the-box if you have everything set correctly on your machine.',p=g(),d=o("figure"),u=o("img"),m=g(),f=o("p"),f.innerHTML="<b>Your data never leaves your computer.</b> This is a pure client-side webapp, all data is loaded in your browser, there is no backend. This means that I don&#39;t have access to the book you&#39;re writing, which also means that you&#39;re responsible to use the <i>Save/Load</i> features to backup your gamebook to disk. GWP tries it best to always save your gamebooks to local storage. Saving to disk is a good practice to keep your books safe.",et(u.src,r=kt)||c(u,"src",r),c(e,"class","prose m-auto"),c(l,"class","p-4")},m(h,_){L(h,l,_),n(l,e),n(e,s),n(e,a),n(e,i),n(e,p),n(e,d),n(d,u),n(e,m),n(e,f)},p:j,i:j,o:j,d(h){h&&C(l)}}}class yt extends Y{constructor(l){super();K(this,l,null,wt,V,{})}}function St(t){let l,e,s,a,i,p,d,u,r,m=t[0].metadata.title+"",f,h,_,y,I,k,$,B,P,A,O;return{c(){l=o("div"),e=o("article"),s=o("h2"),s.textContent="Save & Load",a=g(),i=o("p"),i.innerHTML="Use the buttons below to save or load your current gamebook to disk. Remember that <i>Gamebook.Webby.Press</i> always save your gamebook to your browser storage as well.",p=g(),d=o("p"),u=re("You are currently editing "),r=o("b"),f=re(m),h=re(" gamebook."),_=g(),y=o("button"),y.textContent="Save To Disk",I=g(),k=o("br"),$=o("br"),B=g(),P=o("button"),P.textContent="Load From Disk",c(y,"class","btn btn-primary"),c(P,"class","btn btn-primary"),c(e,"class","prose"),c(l,"class","p-4")},m(H,D){L(H,l,D),n(l,e),n(e,s),n(e,a),n(e,i),n(e,p),n(e,d),n(d,u),n(d,r),n(r,f),n(d,h),n(e,_),n(e,y),n(e,I),n(e,k),n(e,$),n(e,B),n(e,P),A||(O=[M(y,"click",t[1]),M(P,"click",t[1])],A=!0)},p(H,[D]){D&1&&m!==(m=H[0].metadata.title+"")&&Se(f,m)},i:j,o:j,d(H){H&&C(l),A=!1,ye(O)}}}function $t(t,l,e){let s;return z(t,U,i=>e(0,s=i)),[s,()=>{let i=JSON.stringify(s),p=new Blob([i],{type:"text/json;charset=utf-8"}),d=URL.createObjectURL(p),u=document.createElement("a");u.download=s.metadata.title+".json",u.href=d,u.click()}]}class Lt extends Y{constructor(l){super();K(this,l,$t,St,V,{})}}function Ye(t,l,e){const s=t.slice();return s[4]=l[e],s}function Ke(t){let l,e,s=t[4].metadata.title+"",a,i,p,d;function u(){return t[2](t[4])}return{c(){l=o("li"),e=o("button"),a=re(s),i=g(),c(e,"class","btn btn-ghost")},m(r,m){L(r,l,m),n(l,e),n(e,a),n(l,i),p||(d=M(e,"click",u),p=!0)},p(r,m){t=r},d(r){r&&C(l),p=!1,d()}}}function Ct(t){let l,e,s,a,i,p,d,u=t[0],r=[];for(let m=0;m<u.length;m+=1)r[m]=Ke(Ye(t,u,m));return{c(){l=o("div"),e=o("article"),s=o("h2"),s.textContent="Books",a=g(),i=o("p"),i.innerHTML="<i>Gamebook.Webby.Press</i> always save your gamebooks to your browser local storage. Click on a book below to load them.",p=g(),d=o("ul");for(let m=0;m<r.length;m+=1)r[m].c();c(e,"class","prose"),c(l,"class","p-4")},m(m,f){L(m,l,f),n(l,e),n(e,s),n(e,a),n(e,i),n(e,p),n(e,d);for(let h=0;h<r.length;h+=1)r[h].m(d,null)},p(m,[f]){if(f&3){u=m[0];let h;for(h=0;h<u.length;h+=1){const _=Ye(m,u,h);r[h]?r[h].p(_,f):(r[h]=Ke(_),r[h].c(),r[h].m(d,null))}for(;h<r.length;h+=1)r[h].d(1);r.length=u.length}},i:j,o:j,d(m){m&&C(l),Qe(r,m)}}}function Tt(t,l,e){var d;let s;z(t,U,u=>e(3,s=u));let a=[];for(let u=0;u<=localStorage.length;u++){let r=localStorage.key(u),m=localStorage.getItem(r);try{let f=JSON.parse(m);((d=f==null?void 0:f.metadata)==null?void 0:d.title)&&a.push(f)}catch{}}const i=u=>{let r=localStorage.getItem(u),m=JSON.parse(r);pe(U,s=m,s),R("editor")};return[a,i,u=>{i(u.metadata.title)}]}class Mt extends Y{constructor(l){super();K(this,l,Tt,Ct,V,{})}}function Pt(t){let l,e,s,a,i,p,d,u,r,m,f,h,_,y,I,k,$,B,P,A,O,H,D,E,G;_=new Ue({});var b=t[1][t[0].to];function w(v){return{props:{data:v[0].data}}}return b&&(k=new b(w(t))),B=new dt({}),E=new Ue({}),{c(){l=o("main"),e=o("div"),s=o("input"),a=g(),i=o("div"),p=o("div"),d=o("div"),d.innerHTML='<label for="my-drawer-3" class="btn btn-square btn-ghost"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" class="inline-block w-6 h-6 stroke-current"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg></label>',u=g(),r=o("div"),r.textContent="Gamebook.Webby.Press",m=g(),f=o("div"),h=o("ul"),ne(_.$$.fragment),y=g(),I=o("div"),k&&ne(k.$$.fragment),$=g(),ne(B.$$.fragment),P=g(),A=o("div"),O=o("label"),H=g(),D=o("ul"),ne(E.$$.fragment),c(s,"id","my-drawer-3"),c(s,"type","checkbox"),c(s,"class","drawer-toggle"),c(d,"class","flex-none lg:hidden"),c(r,"class","flex-1 px-2 mx-2 font-semibold"),c(h,"class","menu menu-horizontal"),c(f,"class","flex-none hidden lg:block"),c(p,"class","w-full navbar bg-base-300"),c(I,"class","flex flex-col pb-4"),c(i,"class","drawer-content flex flex-col"),c(O,"for","my-drawer-3"),c(O,"class","drawer-overlay"),c(D,"class","menu p-4 overflow-y-auto w-80 bg-base-100"),c(A,"class","drawer-side"),c(e,"class","drawer h-screen w-full")},m(v,J){L(v,l,J),n(l,e),n(e,s),n(e,a),n(e,i),n(i,p),n(p,d),n(p,u),n(p,r),n(p,m),n(p,f),n(f,h),se(_,h,null),n(i,y),n(i,I),k&&se(k,I,null),n(I,$),se(B,I,null),n(e,P),n(e,A),n(A,O),n(A,H),n(A,D),se(E,D,null),G=!0},p(v,[J]){const F={};if(J&1&&(F.data=v[0].data),b!==(b=v[1][v[0].to])){if(k){lt();const N=k;ae(N.$$.fragment,1,0,()=>{ie(N,1)}),tt()}b?(k=new b(w(v)),ne(k.$$.fragment),oe(k.$$.fragment,1),se(k,I,$)):k=null}else b&&k.$set(F)},i(v){G||(oe(_.$$.fragment,v),k&&oe(k.$$.fragment,v),oe(B.$$.fragment,v),oe(E.$$.fragment,v),G=!0)},o(v){ae(_.$$.fragment,v),k&&ae(k.$$.fragment,v),ae(B.$$.fragment,v),ae(E.$$.fragment,v),G=!1},d(v){v&&C(l),ie(_),k&&ie(k),ie(B),ie(E)}}}function Dt(t,l,e){let s,a;z(t,U,u=>e(2,s=u)),z(t,Me,u=>e(0,a=u));let i=location.search,p=new URLSearchParams(i);if(p.get("view")&&R(p.get("view")),localStorage.getItem("current book")){let u=localStorage.getItem("current book"),r=localStorage.getItem(u),m=JSON.parse(r);pe(U,s=m,s),R("editor")}return[a,{about:yt,editor:_t,saveload:Lt,books:Mt}]}class It extends Y{constructor(l){super();K(this,l,Dt,Pt,V,{})}}new It({target:document.getElementById("app")});
